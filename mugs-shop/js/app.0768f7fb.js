(function(){"use strict";var e={6913:function(e,t,r){var i=r(9242),s=r(3396);function l(e,t){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(r,null,{default:(0,s.w5)((e=>[(0,s.Wm)(i.uT,{name:"slide",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e.Component)))])),_:2},1024)])),_:1})}var o=r(89);const n={},a=(0,o.Z)(n,[["render",l]]);var c=a,u=r(2483),d=r(7139);const p=e=>((0,s.dD)("data-v-64c7a67c"),e=e(),(0,s.Cn)(),e),f={class:"product-list__wrapper"},h=["data-id"],m=["src","alt"],y={class:"product-card__characteristics"},v={class:"product-card__title"},g={class:"product-card__price"},_={key:0,class:"product-list__empty-msg"},b=p((()=>(0,s._)("p",null,"Unfortunately, there is no mugs with that parameters.",-1))),k=p((()=>(0,s._)("p",null,"Please check the filters or reset them",-1))),w=[b,k];function P(e,t,r,l,o,n){const a=(0,s.up)("TheFilters");return(0,s.wg)(),(0,s.iD)("div",f,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"#app"},[(0,s.Wm)(i.uT,{name:"panel-slide"},{default:(0,s.w5)((()=>[o.filtersPanelOpen?((0,s.wg)(),(0,s.j4)(a,{key:0,onFilterProducts:n.filterProducts,onSortBy:n.sortBy},null,8,["onFilterProducts","onSortBy"])):(0,s.kq)("",!0)])),_:1})])),(0,s.Wm)(i.W3,{name:"product-list",tag:"ul",class:"product-list",onClick:n.showProductDetail},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.actualProductList,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"product-list__item",key:e.id},[(0,s._)("li",{class:"product-card","data-id":e.id},[(0,s._)("img",{class:"product-card__img",src:"../product_images/"+e.img+".png",alt:e.title},null,8,m),(0,s._)("ul",y,[(0,s._)("li",null,"Volume: "+(0,d.zw)(e.vol)+"ml",1),(0,s._)("li",null,"Color: "+(0,d.zw)(e.color),1),(0,s._)("li",null,"Material: "+(0,d.zw)(e.material),1)]),(0,s._)("p",v,(0,d.zw)(e.title),1),(0,s._)("p",g,(0,d.zw)(e.price)+"$",1),(0,s._)("a",{class:"product-card__link",href:"#",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["prevent"]))})],8,h)])))),128))])),_:1},8,["onClick"]),o.actualProductList.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_,w)),(0,s._)("label",{for:"filtersPanelOpen",class:(0,d.C_)(["show-filters",{"show-filters--closed":!o.filtersPanelOpen}])},[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>o.filtersPanelOpen=e),id:"filtersPanelOpen"},null,512),[[i.e8,o.filtersPanelOpen]])],2)])}r(7658);var C=r.p+"img/reset.dc5b1c03.svg";const D=e=>((0,s.dD)("data-v-0b57b88e"),e=e(),(0,s.Cn)(),e),V={class:"filters-wrapper"},x={action:"#",class:"filters"},F={class:"filters__item filters__item--range"},O=D((()=>(0,s._)("legend",null,"Price",-1))),A=["max"],M={class:"filters__item filters__item--range"},B=D((()=>(0,s._)("legend",null,"Volume",-1))),j=["max"],L={class:"filters__item filters__item--checkbox"},S=D((()=>(0,s._)("legend",null,"Colors",-1))),T=["id","value"],Z=["for"],z={class:"filters__item filters__item--checkbox"},E=D((()=>(0,s._)("legend",null,"Materials",-1))),U=["id","value"],$=["for"],N=D((()=>(0,s._)("img",{src:C,alt:"reset"},null,-1))),I=[N];function Q(e,t,r,l,o,n){return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("form",x,[(0,s._)("fieldset",F,[O,(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{type:"range",id:"price",name:"price",step:"1",min:"0",max:e.filterDetails.maxPrice,"onUpdate:modelValue":t[0]||(t[0]=e=>o.filters.priceValue=e),onChange:t[1]||(t[1]=(...e)=>n.applyFilters&&n.applyFilters(...e))},null,40,A),[[i.nr,o.filters.priceValue]]),(0,s._)("p",null,"0$ - "+(0,d.zw)(o.filters.priceValue)+"$",1)]),(0,s._)("button",{class:(0,d.C_)(["sort-btn",{"sort-btn--active":"price"==o.sorted.by,"sort-btn--active-za":"price"==o.sorted.by&&!o.sorted.directionAZ}]),type:"button",onClick:t[2]||(t[2]=(0,i.iM)(((...e)=>n.sortBy&&n.sortBy(...e)),["prevent"])),"data-sort-by":"price",title:"Sort by price"},null,2)]),(0,s._)("fieldset",M,[B,(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{type:"range",id:"volume",name:"volume",step:"20",min:"0",max:e.filterDetails.maxVolume,"onUpdate:modelValue":t[3]||(t[3]=e=>o.filters.volumeValue=e),onChange:t[4]||(t[4]=(...e)=>n.applyFilters&&n.applyFilters(...e))},null,40,j),[[i.nr,o.filters.volumeValue]]),(0,s._)("p",null,"0ml - "+(0,d.zw)(o.filters.volumeValue)+"ml",1)]),(0,s._)("button",{class:(0,d.C_)(["sort-btn",{"sort-btn--active":"vol"==o.sorted.by,"sort-btn--active-za":"vol"==o.sorted.by&&!o.sorted.directionAZ}]),type:"button",onClick:t[5]||(t[5]=(0,i.iM)(((...e)=>n.sortBy&&n.sortBy(...e)),["prevent"])),"data-sort-by":"vol",title:"Sort by volume"},null,2)]),(0,s._)("fieldset",L,[S,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.filterDetails.color,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e},[(0,s.wy)((0,s._)("input",{type:"checkbox",name:"color",checked:"",id:e,value:e,"onUpdate:modelValue":t[6]||(t[6]=e=>o.filters.checkedColors=e),onChange:t[7]||(t[7]=(...e)=>n.applyFilters&&n.applyFilters(...e))},null,40,T),[[i.e8,o.filters.checkedColors]]),(0,s._)("label",{for:e},(0,d.zw)(e),9,Z)])))),128))]),(0,s._)("fieldset",z,[E,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.filterDetails.material,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e},[(0,s.wy)((0,s._)("input",{type:"checkbox",name:"material",checked:"",id:e,value:e,"onUpdate:modelValue":t[8]||(t[8]=e=>o.filters.checkedMaterials=e),onChange:t[9]||(t[9]=(...e)=>n.applyFilters&&n.applyFilters(...e))},null,40,U),[[i.e8,o.filters.checkedMaterials]]),(0,s._)("label",{for:e},(0,d.zw)(e),9,$)])))),128))]),(0,s._)("button",{class:"filters__reset",type:"reset",onClick:t[10]||(t[10]=(0,i.iM)(((...e)=>n.resetFilters&&n.resetFilters(...e)),["prevent"])),title:"Reset filters"},I)])])}var q=r(65),H={name:"TheFilters",emits:["filter-products","sort-by"],data(){return{filters:{priceValue:"",volumeValue:"",checkedColors:[],checkedMaterials:[]},sorted:{by:"price",directionAZ:!0}}},beforeMount(){const{query:e}=this.$route;this.filters.checkedColors=e.color?this.checkQueryItem(e.color):[],this.filters.checkedMaterials=e.material?this.checkQueryItem(e.material):[],this.filters.priceValue=e.price?e.price:this.filterDetails.maxPrice,this.filters.volumeValue=e.volume?e.volume:this.filterDetails.maxVolume,this.$emit("filter-products",this.filters),this.sorted.by=e.sortBy?e.sortBy:"price",this.sorted.directionAZ="false"!==e.sortDirectionAZ,this.$emit("sort-by",this.sorted)},methods:{addQueryToUrl(){this.$router.push(this.prepareQuerryParams)},applyFilters(){this.addQueryToUrl(),this.$emit("filter-products",this.filters)},resetFilters(){this.filters.priceValue=this.filterDetails.maxPrice,this.filters.volumeValue=this.filterDetails.maxVolume,this.filters.checkedColors=[],this.filters.checkedMaterials=[],this.sorted.by="price",this.sorted.directionAZ=!0,this.applyFilters()},checkQueryItem(e){return e.constructor===Array?e:[e]},sortBy(e){this.sorted.by==e.target.dataset.sortBy?this.sorted.directionAZ=!this.sorted.directionAZ:this.sorted.by=e.target.dataset.sortBy,this.$emit("sort-by",this.sorted),this.addQueryToUrl()}},computed:{...(0,q.Se)(["filterDetails"]),prepareQuerryParams(){return{query:{color:this.filters.checkedColors,material:this.filters.checkedMaterials,price:this.filters.priceValue==this.filterDetails.maxPrice?[]:this.filters.priceValue,volume:this.filters.volumeValue==this.filterDetails.maxVolume?[]:this.filters.volumeValue,sortBy:"price"==this.sorted.by?[]:this.sorted.by,sortDirectionAZ:!!this.sorted.directionAZ&&[]}}}}};const K=(0,o.Z)(H,[["render",Q],["__scopeId","data-v-0b57b88e"]]);var W=K,Y={components:{TheFilters:W},data(){return{filtersPanelOpen:!1,actualProductList:[],filters:{},sorted:{}}},methods:{...(0,q.nv)(["getProducts"]),showProductDetail(e){if(!e.target.classList.contains("product-list")){let t=e.target.closest(".product-card").dataset.id;this.$router.push("/pdp/"+t)}},filterProducts(e){this.filters=e,this.actualProductList=this.filteredProductList,this.sortProducts(this.actualProductList)},sortProducts(e){e.sort(((e,t)=>e[this.sorted.by]-t[this.sorted.by])),this.sorted.directionAZ||this.actualProductList.reverse()},sortBy(e){this.sorted=e,this.sortProducts(this.actualProductList)}},computed:{...(0,q.Se)(["products"]),filteredProductList(){return this.products.products.filter((e=>{let t=!0,r=!0,i=!0,s=!0;return t=parseFloat(e.price)<=parseFloat(this.filters.priceValue),r=parseFloat(e.vol)<=parseFloat(this.filters.volumeValue),this.filters.checkedColors.length&&(i=this.filters.checkedColors.includes(e.color)),this.filters.checkedMaterials.length&&(s=this.filters.checkedMaterials.includes(e.material)),[t,r,i,s].every(Boolean)}))}},created(){this.products.products?this.filtersPanelOpen=!0:this.getProducts().then((()=>{this.filtersPanelOpen=!0}))}};const R=(0,o.Z)(Y,[["render",P],["__scopeId","data-v-64c7a67c"]]);var G=R;const J=[{path:"/plp",name:"PLP",component:G,alias:"/"},{path:"/pdp/:productId",name:"PDP",props:!0,component:()=>r.e(443).then(r.bind(r,9347))},{path:"/:notFound(.*)",redirect:"/plp"}],X=(0,u.p7)({history:(0,u.PO)("/mugs-shop/"),routes:J});var ee=X,te=(0,q.MT)({state:{products:[],filterDetails:{}},mutations:{setProducts(e,t){e.products=t},setfilterDetails(e){e.filterDetails.color=[...new Set(e.products.products.map((e=>e.color)))],e.filterDetails.material=[...new Set(e.products.products.map((e=>e.material)))],e.filterDetails.maxPrice=Math.max(...e.products.products.map((e=>e.price))),e.filterDetails.maxVolume=Math.max(...e.products.products.map((e=>e.vol)))}},actions:{getProducts(e){return fetch("https://kotyhoroshko.github.io/db.json").then((e=>e.json())).then((t=>{e.commit("setProducts",t),e.commit("setfilterDetails"),console.log("db was successfully loaded")})).catch((e=>console.error(e)))}},getters:{products(e){return e.products},filterDetails(e){return e.filterDetails},getProductById:e=>t=>e.products.products.find((e=>e.id===t))}});(0,i.ri)(c).use(te).use(ee).mount("#app")}},t={};function r(i){var s=t[i];if(void 0!==s)return s.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(t,i,s,l){if(!i){var o=1/0;for(u=0;u<e.length;u++){i=e[u][0],s=e[u][1],l=e[u][2];for(var n=!0,a=0;a<i.length;a++)(!1&l||o>=l)&&Object.keys(r.O).every((function(e){return r.O[e](i[a])}))?i.splice(a--,1):(n=!1,l<o&&(o=l));if(n){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[i,s,l]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,i){return r.f[i](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/about.1d58ffca.js"}}(),function(){r.miniCssF=function(e){return"css/about.33d9a22e.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="mugs-shop:";r.l=function(i,s,l,o){if(e[i])e[i].push(s);else{var n,a;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+l){n=d;break}}n||(a=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,r.nc&&n.setAttribute("nonce",r.nc),n.setAttribute("data-webpack",t+l),n.src=i),e[i]=[s];var p=function(t,r){n.onerror=n.onload=null,clearTimeout(f);var s=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),a&&document.head.appendChild(n)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/mugs-shop/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,i,s){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var o=function(r){if(l.onerror=l.onload=null,"load"===r.type)i();else{var o=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.type=o,a.request=n,l.parentNode&&l.parentNode.removeChild(l),s(a)}};return l.onerror=l.onload=o,l.href=t,r?r.parentNode.insertBefore(l,r.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var s=r[i],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===e||l===t))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){s=o[i],l=s.getAttribute("data-href");if(l===e||l===t)return s}},i=function(i){return new Promise((function(s,l){var o=r.miniCssF(i),n=r.p+o;if(t(o,n))return s();e(i,n,null,s,l)}))},s={143:0};r.f.miniCss=function(e,t){var r={443:1};s[e]?t.push(s[e]):0!==s[e]&&r[e]&&t.push(s[e]=i(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}}(),function(){var e={143:0};r.f.j=function(t,i){var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var l=new Promise((function(r,i){s=e[t]=[r,i]}));i.push(s[2]=l);var o=r.p+r.u(t),n=new Error,a=function(i){if(r.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var l=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+o+")",n.name="ChunkLoadError",n.type=l,n.request=o,s[1](n)}};r.l(o,a,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,l,o=i[0],n=i[1],a=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(a)var u=a(r)}for(t&&t(i);c<o.length;c++)l=o[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(u)},i=self["webpackChunkmugs_shop"]=self["webpackChunkmugs_shop"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(6913)}));i=r.O(i)})();
//# sourceMappingURL=app.0768f7fb.js.map