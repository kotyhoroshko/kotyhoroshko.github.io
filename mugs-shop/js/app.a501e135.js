(function(){"use strict";var t={3730:function(t,e,r){var s=r(9242),i=r(3396);function l(t,e){const r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(r,null,{default:(0,i.w5)((t=>[(0,i.Wm)(s.uT,{name:"slide",mode:"out-in"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(t.Component)))])),_:2},1024)])),_:1})}var o=r(89);const a={},c=(0,o.Z)(a,[["render",l]]);var u=c,n=r(2483),d=r(7139);const p=t=>((0,i.dD)("data-v-482ea8c8"),t=t(),(0,i.Cn)(),t),h={class:"product-list__wrapper"},f=["data-id"],m=["src","alt"],_={class:"product-card__characteristics"},v={class:"product-card__title"},g={class:"product-card__price"},y={key:0,class:"product-list__empty-msg"},b=p((()=>(0,i._)("p",null,"Unfortunately, there is no mugs with that parameters.",-1))),w=p((()=>(0,i._)("p",null,"Please check the filters or reset them",-1))),k=[b,w];function A(t,e,r,l,o,a){const c=(0,i.up)("TheFilters");return(0,i.wg)(),(0,i.iD)("div",h,[((0,i.wg)(),(0,i.j4)(i.lR,{to:"#app"},[(0,i.Wm)(s.uT,{name:"panel-slide"},{default:(0,i.w5)((()=>[o.filtersPanelOpen?((0,i.wg)(),(0,i.j4)(c,{key:0,onFilterProducts:a.filterProducts,onSortBy:a.sortBy},null,8,["onFilterProducts","onSortBy"])):(0,i.kq)("",!0)])),_:1})])),(0,i.Wm)(s.W3,{name:"product-list",tag:"ul",class:"product-list",onClick:a.showProductDetail},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.actualProductList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"product-list__item",key:t.id},[(0,i._)("li",{class:"product-card","data-id":t.id},[(0,i._)("img",{class:"product-card__img",src:"./product_images/"+t.img+".png",alt:t.title},null,8,m),(0,i._)("ul",_,[(0,i._)("li",null,"Volume: "+(0,d.zw)(t.vol)+"ml",1),(0,i._)("li",null,"Color: "+(0,d.zw)(t.color),1),(0,i._)("li",null,"Material: "+(0,d.zw)(t.material),1)]),(0,i._)("p",v,(0,d.zw)(t.title),1),(0,i._)("p",g,(0,d.zw)(t.price)+"$",1),(0,i._)("a",{class:"product-card__link",href:"#",onClick:e[0]||(e[0]=(0,s.iM)((()=>{}),["prevent"]))})],8,f)])))),128))])),_:1},8,["onClick"]),o.actualProductList.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",y,k)),(0,i._)("label",{for:"filtersPanelOpen",class:(0,d.C_)(["show-filters",{"show-filters--closed":!o.filtersPanelOpen}])},[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>o.filtersPanelOpen=t),id:"filtersPanelOpen"},null,512),[[s.e8,o.filtersPanelOpen]])],2)])}r(7658);var P=r.p+"img/reset.dc5b1c03.svg";const D=t=>((0,i.dD)("data-v-0b57b88e"),t=t(),(0,i.Cn)(),t),C={class:"filters-wrapper"},B={action:"#",class:"filters"},V={class:"filters__item filters__item--range"},x=D((()=>(0,i._)("legend",null,"Price",-1))),F=["max"],M={class:"filters__item filters__item--range"},O=D((()=>(0,i._)("legend",null,"Volume",-1))),z=["max"],I={class:"filters__item filters__item--checkbox"},L=D((()=>(0,i._)("legend",null,"Colors",-1))),U=["id","value"],Z=["for"],j={class:"filters__item filters__item--checkbox"},Q=D((()=>(0,i._)("legend",null,"Materials",-1))),R=["id","value"],S=["for"],T=D((()=>(0,i._)("img",{src:P,alt:"reset"},null,-1))),q=[T];function E(t,e,r,l,o,a){return(0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("form",B,[(0,i._)("fieldset",V,[x,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{type:"range",id:"price",name:"price",step:"1",min:"0",max:t.filterDetails.maxPrice,"onUpdate:modelValue":e[0]||(e[0]=t=>o.filters.priceValue=t),onChange:e[1]||(e[1]=(...t)=>a.applyFilters&&a.applyFilters(...t))},null,40,F),[[s.nr,o.filters.priceValue]]),(0,i._)("p",null,"0$ - "+(0,d.zw)(o.filters.priceValue)+"$",1)]),(0,i._)("button",{class:(0,d.C_)(["sort-btn",{"sort-btn--active":"price"==o.sorted.by,"sort-btn--active-za":"price"==o.sorted.by&&!o.sorted.directionAZ}]),type:"button",onClick:e[2]||(e[2]=(0,s.iM)(((...t)=>a.sortBy&&a.sortBy(...t)),["prevent"])),"data-sort-by":"price",title:"Sort by price"},null,2)]),(0,i._)("fieldset",M,[O,(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{type:"range",id:"volume",name:"volume",step:"20",min:"0",max:t.filterDetails.maxVolume,"onUpdate:modelValue":e[3]||(e[3]=t=>o.filters.volumeValue=t),onChange:e[4]||(e[4]=(...t)=>a.applyFilters&&a.applyFilters(...t))},null,40,z),[[s.nr,o.filters.volumeValue]]),(0,i._)("p",null,"0ml - "+(0,d.zw)(o.filters.volumeValue)+"ml",1)]),(0,i._)("button",{class:(0,d.C_)(["sort-btn",{"sort-btn--active":"vol"==o.sorted.by,"sort-btn--active-za":"vol"==o.sorted.by&&!o.sorted.directionAZ}]),type:"button",onClick:e[5]||(e[5]=(0,s.iM)(((...t)=>a.sortBy&&a.sortBy(...t)),["prevent"])),"data-sort-by":"vol",title:"Sort by volume"},null,2)]),(0,i._)("fieldset",I,[L,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.filterDetails.color,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.wy)((0,i._)("input",{type:"checkbox",name:"color",checked:"",id:t,value:t,"onUpdate:modelValue":e[6]||(e[6]=t=>o.filters.checkedColors=t),onChange:e[7]||(e[7]=(...t)=>a.applyFilters&&a.applyFilters(...t))},null,40,U),[[s.e8,o.filters.checkedColors]]),(0,i._)("label",{for:t},(0,d.zw)(t),9,Z)])))),128))]),(0,i._)("fieldset",j,[Q,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.filterDetails.material,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.wy)((0,i._)("input",{type:"checkbox",name:"material",checked:"",id:t,value:t,"onUpdate:modelValue":e[8]||(e[8]=t=>o.filters.checkedMaterials=t),onChange:e[9]||(e[9]=(...t)=>a.applyFilters&&a.applyFilters(...t))},null,40,R),[[s.e8,o.filters.checkedMaterials]]),(0,i._)("label",{for:t},(0,d.zw)(t),9,S)])))),128))]),(0,i._)("button",{class:"filters__reset",type:"reset",onClick:e[10]||(e[10]=(0,s.iM)(((...t)=>a.resetFilters&&a.resetFilters(...t)),["prevent"])),title:"Reset filters"},q)])])}var H=r(65),$={name:"TheFilters",emits:["filter-products","sort-by"],data(){return{filters:{priceValue:"",volumeValue:"",checkedColors:[],checkedMaterials:[]},sorted:{by:"price",directionAZ:!0}}},beforeMount(){const{query:t}=this.$route;this.filters.checkedColors=t.color?this.checkQueryItem(t.color):[],this.filters.checkedMaterials=t.material?this.checkQueryItem(t.material):[],this.filters.priceValue=t.price?t.price:this.filterDetails.maxPrice,this.filters.volumeValue=t.volume?t.volume:this.filterDetails.maxVolume,this.$emit("filter-products",this.filters),this.sorted.by=t.sortBy?t.sortBy:"price",this.sorted.directionAZ="false"!==t.sortDirectionAZ,this.$emit("sort-by",this.sorted)},methods:{addQueryToUrl(){this.$router.push(this.prepareQuerryParams)},applyFilters(){this.addQueryToUrl(),this.$emit("filter-products",this.filters)},resetFilters(){this.filters.priceValue=this.filterDetails.maxPrice,this.filters.volumeValue=this.filterDetails.maxVolume,this.filters.checkedColors=[],this.filters.checkedMaterials=[],this.sorted.by="price",this.sorted.directionAZ=!0,this.applyFilters()},checkQueryItem(t){return t.constructor===Array?t:[t]},sortBy(t){this.sorted.by==t.target.dataset.sortBy?this.sorted.directionAZ=!this.sorted.directionAZ:this.sorted.by=t.target.dataset.sortBy,this.$emit("sort-by",this.sorted),this.addQueryToUrl()}},computed:{...(0,H.Se)(["filterDetails"]),prepareQuerryParams(){return{query:{color:this.filters.checkedColors,material:this.filters.checkedMaterials,price:this.filters.priceValue==this.filterDetails.maxPrice?[]:this.filters.priceValue,volume:this.filters.volumeValue==this.filterDetails.maxVolume?[]:this.filters.volumeValue,sortBy:"price"==this.sorted.by?[]:this.sorted.by,sortDirectionAZ:!!this.sorted.directionAZ&&[]}}}}};const K=(0,o.Z)($,[["render",E],["__scopeId","data-v-0b57b88e"]]);var W=K,Y={components:{TheFilters:W},data(){return{filtersPanelOpen:!1,actualProductList:[],filters:{},sorted:{}}},methods:{...(0,H.nv)(["getProducts"]),showProductDetail(t){if(!t.target.classList.contains("product-list")){let e=t.target.closest(".product-card").dataset.id;this.$router.push("/pdp/"+e)}},filterProducts(t){this.filters=t,this.actualProductList=this.filteredProductList,this.sortProducts(this.actualProductList)},sortProducts(t){t.sort(((t,e)=>t[this.sorted.by]-e[this.sorted.by])),this.sorted.directionAZ||this.actualProductList.reverse()},sortBy(t){this.sorted=t,this.sortProducts(this.actualProductList)}},computed:{...(0,H.Se)(["products"]),filteredProductList(){return this.products.products.filter((t=>{let e=!0,r=!0,s=!0,i=!0;return e=parseFloat(t.price)<=parseFloat(this.filters.priceValue),r=parseFloat(t.vol)<=parseFloat(this.filters.volumeValue),this.filters.checkedColors.length&&(s=this.filters.checkedColors.includes(t.color)),this.filters.checkedMaterials.length&&(i=this.filters.checkedMaterials.includes(t.material)),[e,r,s,i].every(Boolean)}))}},created(){this.products.products?this.filtersPanelOpen=!0:this.getProducts().then((()=>{this.filtersPanelOpen=!0}))}};const G=(0,o.Z)(Y,[["render",A],["__scopeId","data-v-482ea8c8"]]);var N=G,X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAASlJREFUWIXFlj1OxDAQRt+3EkIiSHsMeq5As9dDHAKQQFBQ85OKAvYSIPptAIHQUBAkfuLY2XjskaaxY79nxxlHZkbNmFWlryMgqZG0W0VA0gJ4Au4ltZLmkw3MLCmBBfAK2I88TR0fnHcC3Lq2DVeBAbgBR647EIG3wLabQAR+AzRT4UGBUvBegQj8Oif8n0AEfgVs5YT/EojALz3gZobM7LvCnQObPbXqDdgHngO1bN14AA4B9oCXwMq98wzgrhLcgPfa1/EMvl5B6PB550XKIfwADoBVzqUDj8Bx6md4C8w9PsMxhchFYmwpzi7R31hQItxRSGK4s4BE/IFhiRN3gYiE/09pRKLMDvyRWHXwNscZUDdxckhqgB0zW44aGJpvrEDuqH0d8wnahj04bVrgCAAAAABJRU5ErkJggg==";const J=t=>((0,i.dD)("data-v-cd4c8c32"),t=t(),(0,i.Cn)(),t),tt={class:"product-wrapper"},et={class:"back-btn"},rt=J((()=>(0,i._)("img",{src:X,alt:"back",title:"Back to product list"},null,-1))),st={class:"product"},it=["src","alt"],lt={class:"product__detail"},ot={class:"product__title"},at={class:"product__art"},ct={class:"product__price"},ut={class:"product__characteristics"},nt={class:"value"},dt={class:"value"},pt={class:"value"},ht={class:"product__desc"};function ft(t,e,r,s,l,o){const a=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",tt,[(0,i._)("div",et,[(0,i.Wm)(a,{to:"/plp"},{default:(0,i.w5)((()=>[rt])),_:1})]),(0,i._)("div",st,[(0,i._)("img",{class:"product__img",src:"./product_images/"+l.product.img+".png",alt:l.product.title},null,8,it),(0,i._)("div",lt,[(0,i._)("h1",ot,(0,d.zw)(l.product.title),1),(0,i._)("p",at,"Art: "+(0,d.zw)(l.product.id),1),(0,i._)("p",ct,"Price: "+(0,d.zw)(l.product.price)+"$",1),(0,i._)("ul",ut,[(0,i._)("li",null,[(0,i.Uk)(" Volume: "),(0,i._)("span",nt,(0,d.zw)(l.product.vol)+"ml",1)]),(0,i._)("li",null,[(0,i.Uk)(" Color: "),(0,i._)("span",dt,(0,d.zw)(l.product.color),1)]),(0,i._)("li",null,[(0,i.Uk)(" Material: "),(0,i._)("span",pt,(0,d.zw)(l.product.material),1)])])]),(0,i._)("p",ht,(0,d.zw)(l.product.desc),1)])])}var mt={name:"ProductDetails",data(){return{product:{}}},props:["productId"],methods:{...(0,H.nv)(["getProducts"])},computed:{...(0,H.Se)(["getProductById","products"])},created(){this.products.products?this.product=this.getProductById(this.productId):this.getProducts().then((()=>this.product=this.getProductById(this.productId)))}};const _t=(0,o.Z)(mt,[["render",ft],["__scopeId","data-v-cd4c8c32"]]);var vt=_t;const gt=[{path:"/plp",name:"PLP",component:N,alias:"/"},{path:"/pdp/:productId",name:"PDP",props:!0,component:vt},{path:"/:notFound(.*)",redirect:"/plp"}],yt=(0,n.p7)({history:(0,n.r5)(),routes:gt});var bt=yt,wt=(0,H.MT)({state:{products:[],filterDetails:{}},mutations:{setProducts(t,e){t.products=e},setfilterDetails(t){t.filterDetails.color=[...new Set(t.products.products.map((t=>t.color)))],t.filterDetails.material=[...new Set(t.products.products.map((t=>t.material)))],t.filterDetails.maxPrice=Math.max(...t.products.products.map((t=>t.price))),t.filterDetails.maxVolume=Math.max(...t.products.products.map((t=>t.vol)))}},actions:{getProducts(t){return fetch("https://kotyhoroshko.github.io/db.json").then((t=>t.json())).then((e=>{t.commit("setProducts",e),t.commit("setfilterDetails"),console.log("db was successfully loaded")})).catch((t=>console.error(t)))}},getters:{products(t){return t.products},filterDetails(t){return t.filterDetails},getProductById:t=>e=>t.products.products.find((t=>t.id===e))}});(0,s.ri)(u).use(wt).use(bt).mount("#app")}},e={};function r(s){var i=e[s];if(void 0!==i)return i.exports;var l=e[s]={exports:{}};return t[s](l,l.exports,r),l.exports}r.m=t,function(){var t=[];r.O=function(e,s,i,l){if(!s){var o=1/0;for(n=0;n<t.length;n++){s=t[n][0],i=t[n][1],l=t[n][2];for(var a=!0,c=0;c<s.length;c++)(!1&l||o>=l)&&Object.keys(r.O).every((function(t){return r.O[t](s[c])}))?s.splice(c--,1):(a=!1,l<o&&(o=l));if(a){t.splice(n--,1);var u=i();void 0!==u&&(e=u)}}return e}l=l||0;for(var n=t.length;n>0&&t[n-1][2]>l;n--)t[n]=t[n-1];t[n]=[s,i,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p="/mugs-shop/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,l,o=s[0],a=s[1],c=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)var n=c(r)}for(e&&e(s);u<o.length;u++)l=o[u],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(n)},s=self["webpackChunkmugs_shop"]=self["webpackChunkmugs_shop"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(3730)}));s=r.O(s)})();
//# sourceMappingURL=app.a501e135.js.map